---
title: 빌링키 발급 / API 연동 유의사항
description: (신)나이스페이먼츠 비인증 결제 연동 유의사항을 소개합니다.
---

import * as prose from "~/components/prose";
export const components = prose;

# API 지원 기능

- 빌링키 발급
- 빌링키 결제
- 키인 결제
- 예약 결제
- 결제 취소(가상계좌 환불 포함)
- 에스크로 배송 정보 등록, 조회(수정 불가능)
- 가상계좌 발급, 회수(수정 불가능)
- 포트원 외부 결제 건 현금영수증 발급, 조회, 취소

# 비인증 결제

(신)나이스페이먼츠는 발급 된 빌링키로 재결제(`POST /payments/{payment_id}/billing-key/pay`), 키인 결제(`POST /payments/{payment_id}/instant/pay`) 그리고 결제 예약(`POST /schedules`)을 모두 지원하며 기본 파라미터 외에 아래 3개의 파라미터를 추가로 지원합니다.

| 파라미터                   | 데이터 타입            | 의미                                                                                            |
| -------------------------- | ---------------------- | ----------------------------------------------------------------------------------------------- |
| vat_amount                 | number                 | 총 결제 금액 중 부가세 금액. 부가세 직접 입력 방식을 위해 사용. 단, 나이스페이먼츠와 사전 협의 필요 |
| use_free_interest_from_mall| boolean(기본값: false) | 상점 부담 무이자 할부 적용 여부. 단, 나이스페이먼츠와 사전 협의 필요                                |
| use_card_point             | boolean(기본값: false) | 카드사 포인트 사용 여부. 단, 나이스페이먼츠와 사전 협의 필요                                        |

# 가상계좌

### 고정식 가상계좌 지원

(신)나이스페이먼츠의 경우 API를 통한 고정식 가상 계좌 사용을 지원합니다. 고정식 가상계좌를 사용하기 위해서는 `account_type`를 `FIXED`로 전달하면 됩니다. 단, 고정식 가상계좌를 사용하기 위해서는 나이스페이먼츠와 사전 협의가 필요합니다.

# 에스크로

### 배송 정보 등록시 `send_email` 파라미터 필수

| 파라미터   | 데이터 타입 | 의미                                                                                      |
| ---------- | ----------- | ----------------------------------------------------------------------------------------- |
| send_email | boolean     | 에스크로 구매 확정시 결제 창에 입력했던 이메일로 해당 사실을 전송할지 여부                |

(신)나이스페이먼츠의 경우 다른 PG에서는 지원하지 않는 `send_email` 파라미터를 지원하며, 필수로 전달해주어야 합니다.

### 배송 정보 수정 불가

(신)나이스페이먼츠는 API로 에스크로 배송 정보 등록은 가능하지만 **수정은 불가능**합니다.

# 현금영수증

### 결제창에서 발급 받지 못한 현금영수증은 API로 발급 불가능

(신)나이스페이먼츠의 경우 현금성 결제(가상계좌, 계좌이체, 네이버페이 포인트 결제 등)시 승인 단계에서 현금영수증을 발급 요청할 수 있습니다. 이때 결제 승인 단계에서 현금영수증을 발급 요청하지 못한 경우, 현금영수증 발급 API(`POST /payments/{payment_id}/cash-receipt`)를 사용한다고 하더라도 발급이 되지 않으니 참고 부탁드립니다.

### API로 현금영수증 발급 시, 현금영수증 카드 사용 불가능

API로 현금영수증 발급(`POST /payments/{payment_id}/cash-receipt`)시 발급 받을 현금영수증 정보(현금영수증 발급 유형, 현금영수증 발행 식별 정보)를 전달해야 합니다. 단, (신)나이스페이먼츠의 경우 **발행 식별 정보로 현금영수증 카드 번호는 사용이 불가능**하오니 참고 부탁드립니다.

